source:
  primary:
    key: Froidevaux_2023
    bibtype: Article
    year: '2023'
    author: Jérémy S. P. Froidevaux and Nia Toshkova and Luc Barbaro and Ana Benítez-López
      and Christian Kerbiriou and Isabelle Le Viol and Michela Pacifici and Luca Santini
      and Clare Stawski and Danilo Russo and Jasja Dekker and Antton Alberdi and Francisco
      Amorim and Leonardo Ancillotto and Kévin Barré and Yves Bas and Lisette Cantú-Salazar
      and Dina K. N. Dechmann and Tiphaine Devaux and Katrine Eldegard and Sasan Fereidouni
      and Joanna Furmankiewicz and Daniela Hamidovic and Davina L. Hill and Carlos
      Ibáñez and Jean-Francois Julien and Javier Juste and Peter Kaňuch and Carmi
      Korine and Alexis Laforge and Gaelle Legras and Camille Leroux and Grzegorz
      Lesiński and Léa Mariton and Julie Marmet and Vanessa A. Mata and Clare M. Mifsud
      and Victoria Nistreanu and Roberto Novella-Fernandez and Hugo Rebelo and Niamh
      Roche and Charlotte Roemer and Ireneusz Ruczyński and Rune Sørås and Marcel
      Uhrin and Adriana Vella and Christian C. Voigt and Orly Razgour
    journal: Scientific Data
    title: A species-level trait dataset of bats in Europe and beyond
    volume: '10'
    number: '1'
    doi: 10.1038/s41597-023-02157-4
    issn: 2052-4463
contributors:
  data_collectors:
  - last_name: Froidevaux
    given_name: Jérémy 
    ORCID: https://orcid.org/0000-0001-6850-4879
    affiliation: University of Stirling, Biological and Environmental Sciences, Faculty of Natural Sciences, FK9 4LJ, Stirling, UK; Centre d’Ecologie et des Sciences de la Conservation (CESCO, UMR 7204), CNRS, MNHN, Sorbonne-Université, 29900 Concarneau, 75005, Paris, France; School of Biological Sciences, University of Bristol, Life Sciences Building, BS8 1TQ, Bristol, UK
  - last_name: Razgour
    given_name: Orly 
    ORCID: https://orcid.org/0000-0003-3186-0313
    affiliation: Biosciences, University of Exeter, Streatham Campus, Hatherly Laboratories, Prince of Wales Road, Exeter, EX4 4PS, UK
  - last_name: Toshkova
    given_name: Nia
    ORCID: https://orcid.org/0000-0003-4217-5653
    affiliation: Institute of Biodiversity and Ecosystem Research, Bulgarian Academy of Sciences, 1 Tsar Osvoboditel Blvd., 1000, Sofia, Bulgaria; National Museum of Natural History at the Bulgarian Academy of Sciences, Sofia, Bulgaria 
  assistants: unknown
  dataset_curators: Roberto A. Ruiz-Ramírez
dataset:
  data_is_long_format: yes
  custom_R_code: '
    data |> 
          select(-1) |>
          mutate(verbatimScientificName = str_replace_all(verbatimScientificName, "_", " ")) |> 
          mutate(originalverbatimTraitValueType = verbatimTraitValueType, .before = verbatimTraitValueType) |>
          mutate(verbatimTraitValueType = str_to_lower(verbatimTraitValueType)) |>
          mutate(verbatimTraitValueType = str_replace_all(verbatimTraitValueType, "(mean of min and max|mean of means)", "mean")) |> 
          mutate(verbatimTraitValueType = str_replace_all(verbatimTraitValueType, "max$", "maximum")) |> 
          mutate(verbatimTraitValueType = str_replace_all(verbatimTraitValueType, "min$", "minimum")) |>
          mutate(verbatimTraitValueType = str_replace_all(verbatimTraitValueType, "cumulated", "unknown")) |> 
          mutate(verbatimEntityType_individuals = if_else(verbatimN1 > 1, "population", "individual"), .after = verbatimN1Unit) |> 
          mutate(verbatimEntityType_individuals = if_else((verbatimN1Unit == "individual" & is.na(verbatimEntityType_individuals)), "individual", verbatimEntityType_individuals), .after = verbatimEntityType_individuals) |> 
          mutate(verbatimEntityType_sex = na_if(if_else(str_detect(str_to_lower(AdditionalInfo1), "sex_"), str_sub(str_to_lower(AdditionalInfo1), 5), NA), "na"), .after = verbatimEntityType_individuals) |>
          mutate(verbatimEntityType_age = na_if(if_else(str_detect(str_to_lower(AdditionalInfo2), "(age_|adult)"), str_to_lower(AdditionalInfo2), NA), "na"), .after = verbatimEntityType_sex) |>
          mutate(verbatimEntityType_age = na_if(if_else(str_detect(verbatimEntityType_age, "age_"), str_sub(verbatimEntityType_age, 5), verbatimEntityType_age), "na")) |>
          mutate(verbatimTraitMethod = replace_na(verbatimTraitMethod, "unknown")) |> 
          mutate(verbatimBasisofValue = if_else(str_detect(verbatimTraitMethod, "(capture|hand-release|free-flight|light-tagged|leaving roost|in-hand|respiratometry|formula)"), "measurement", verbatimTraitMethod), .after = verbatimTraitMethod) |> 
          mutate(verbatimBasisofValue = if_else(str_detect(verbatimBasisofValue, "(MCP|Kernel|HomingIn)"), "model_derived", verbatimBasisofValue)) |> 
          rename("coordinateX_WGS84" = "coordinateX-WGS84") |>
          mutate(verbatimContryRegion = if_else(!is.na(coordinateX_WGS84), Area, NA), .before = coordinateX_WGS84) |> 
          mutate(verbatimContryRegionDescription = if_else(!is.na(verbatimContryRegion), "Country of origin of the data.", NA), .after = verbatimContryRegion) |>
          mutate(verbatimTraitValue = map2_chr(verbatimTraitName, verbatimTraitValue, \(x, y) if_else(str_detect(x, "TorporBehavior") & str_detect(str_squish(y), "yes"), "hibernation_present", y)), .after = verbatimTraitValue) |> 
          mutate(verbatimTraitValue = map2_chr(verbatimTraitName, verbatimTraitValue, \(x, y) if_else(str_detect(x, "TorporBehavior") & str_detect(str_squish(y), "no"), "hibernation_absent", y)), .after = verbatimTraitValue) |> 
          group_by(verbatimScientificName, verbatimTraitName, verbatimTraitValueType, verbatimEntityType_individuals, verbatimEntityType_sex, verbatimEntityType_age, Area) |> 
          mutate(across(c("verbatimTraitMethod"), replace_duplicates_with_NA)) |> 
          ungroup() |> 
          drop_na(verbatimTraitMethod) |>
          filter(verbatimTraitName %in% c("ForearmLength", 
                                          "ThirdDigitLength", 
                                          "FifthDigitLength", 
                                          "BodyMass", 
                                          "AspectRatioIndex", 
                                          "WingLoadingIndex",
                                          "TorporBehavior", 
                                          "BasalMetabolicRate",
                                          "SexualMaturityFemale",
                                          "SexualMaturityMale",
                                          "MaxLongevity",
                                          "CallDuration", 
                                          "CallPeakFrequency", 
                                          "CallBandwidth", 
                                          "CallType", 
                                          "DietType", "HomeRange"))
  '
  collection_date: 2000/2023
  taxon_name: verbatimScientificName
  trait_name: verbatimTraitName
  value: verbatimTraitValue
  location_name: Area
  description: unknown
  basis_of_record: unknown
  life_stage: unknown
  sampling_strategy: unknown
  original_file: unknown
  notes: unknown
locations: .na
contexts:
- context_property: Data obtention method
  category: method_context
  var_in: verbatimTraitMethod
- context_property: Number of individuals of which a value comes from
  category: entity_context
  var_in: verbatimEntityType_individuals
- context_property: Sex of the bat (If identified).
  category: entity_context
  var_in: verbatimEntityType_sex
- context_property: Age of the bat (If identified).
  category: entity_context
  var_in: verbatimEntityType_age
- context_property: male_female
  category: entity_context
  var_in: male_female
  values:
  - value: male
    description: unknown
  - value: female
    description: unknown
  - value: unknown
    description: unknown
traits:
- var_in: ForearmLength
  unit_in: verbatimTraitUnit
  trait_name: forearm_length
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: BodyMass
  unit_in: verbatimTraitUnit
  trait_name: body_mass
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: AspectRatioIndex
  unit_in: '{dimensionless}'
  trait_name: aspect_ratio
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: WingLoadingIndex
  unit_in: verbatimTraitUnit
  trait_name: wing_loading
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: TorporBehavior
  unit_in: verbatimTraitUnit
  trait_name: hibernation
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: BasalMetabolicRate
  unit_in: ml{O2}/g/h
  trait_name: basal_metabolic_rate
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: ThirdDigitLength
  unit_in: verbatimTraitUnit
  trait_name: length_of_the_third_digit
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: FifthDigitLength
  unit_in: verbatimTraitUnit
  trait_name: length_of_the_fifth_digit
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: CallDuration
  unit_in: verbatimTraitUnit
  trait_name: call_duration
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: CallPeakFrequency
  unit_in: verbatimTraitUnit
  trait_name: freq_max_amp
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: CallBandwidth
  unit_in: verbatimTraitUnit
  trait_name: call_bandwidth
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: CallType
  unit_in: verbatimTraitUnit
  trait_name: echolocation_call_type
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: DietType
  unit_in: verbatimTraitUnit
  trait_name: feeding_guild
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: SexualMaturityFemale
  unit_in: verbatimTraitUnit
  trait_name: sexual_maturity_age
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  male_female: female
  methods: unknown
- var_in: SexualMaturityMale
  unit_in: verbatimTraitUnit
  trait_name: sexual_maturity_age
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  male_female: male
  methods: unknown
- var_in: HomeRange
  unit_in: verbatimTraitUnit
  trait_name: home_range
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
- var_in: MaxLongevity
  unit_in: verbatimTraitUnit
  trait_name: longevity
  entity_type: verbatimEntityType_individuals
  value_type: verbatimTraitValueType
  basis_of_value: verbatimBasisofValue
  replicates: unknown
  methods: unknown
substitutions:
- trait_name: echolocation_call_type
  find: fm
  replace: fm
- trait_name: echolocation_call_type
  find: fm/qcf
  replace: fm_qfc
- trait_name: echolocation_call_type
  find: cf+fm
  replace: cf_fm
- trait_name: feeding_guild
  find: Insectivorous
  replace: insectivorous
- trait_name: feeding_guild
  find: Frugivorous
  replace: frugivorous
- trait_name: feeding_guild
  find: Nectarivorous
  replace: nectarivorous
- trait_name: feeding_guild
  find: Carnivorous
  replace: carnivorous
taxonomic_updates:
- find: Eptesicus anatolicus
  replace: Cnephaeus anatolicus
  reason: split from E. bottae; moved from Eptesicus to Cnephaeus https://www.mammaldiversity.org/taxon/1005511/
  taxonomic_resolution: species
- find: Eptesicus bottae
  replace: Cnephaeus bottae
  reason: previously included E. anatolicus and E. ognevi, which have all been included
    under E. serotinus in some publications; moved from Eptesicus to Cnephaeus https://www.mammaldiversity.org/taxon/1005513/
  taxonomic_resolution: species
- find: Eptesicus isabellinus
  replace: Cnephaeus isabellinus
  reason: split from E. serotinus; moved from Eptesicus to Cnephaeus https://www.mammaldiversity.org/taxon/1005524/
  taxonomic_resolution: species
- find: Eptesicus nilssonii
  replace: Cnephaeus nilssonii
  reason: moved from Eptesicus to Cnephaeus https://www.mammaldiversity.org/taxon/1005526/
  taxonomic_resolution: species
- find: Eptesicus serotinus
  replace: Cnephaeus serotinus
  reason: previously included E. pachyomus and E. isabellinus; may include E. kobayashii,
    but the species is tentatively retained here; the species also includes the recently
    described lobatus, which was described for populations from Ukraine to the Caucasus;
    these populations likely represent either the taxon turcomanus or mirza, which
    may be distinct species in their own right (either two distinct species, or a
    single species including both names); the taxonomic status of the eastern portion
    of the distribution of E. serotinus has yet to be determined; moved from Eptesicus
    to Cnephaeus https://www.mammaldiversity.org/taxon/1005531/
  taxonomic_resolution: species
exclude_observations: .na
questions: .na
